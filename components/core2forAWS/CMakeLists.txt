set(COMPONENT_SRCDIRS .)
set(COMPONENT_ADD_INCLUDEDIRS .)
set(COMPONENT_REQUIRES "mbedtls" "fatfs" "esp_adc_cal")

list(APPEND COMPONENT_SRCDIRS i2c_bus)
list(APPEND COMPONENT_ADD_INCLUDEDIRS i2c_bus)

list(APPEND COMPONENT_SRCDIRS axp192)
list(APPEND COMPONENT_ADD_INCLUDEDIRS axp192)

if(CONFIG_SOFTWARE_ILI9342C_SUPPORT OR CONFIG_SOFTWARE_SDCARD_SUPPORT)
    file(GLOB_RECURSE childdir LIST_DIRECTORIES true */lvgl/lvgl/src/*)
    foreach (child ${childdir})
        if(IS_DIRECTORY ${child})
            list(APPEND COMPONENT_SRCDIRS ${child})
        endif()
    endforeach()
    list(APPEND COMPONENT_ADD_INCLUDEDIRS tft/lvgl)
    list(APPEND COMPONENT_SRCDIRS tft)
    list(APPEND COMPONENT_ADD_INCLUDEDIRS tft)
endif()

if(CONFIG_SOFTWARE_FT6336U_SUPPORT)
    list(APPEND COMPONENT_SRCDIRS ft6336u)
    list(APPEND COMPONENT_ADD_INCLUDEDIRS ft6336u)
endif()

if(CONFIG_SOFTWARE_SK6812_SUPPORT)
    list(APPEND COMPONENT_SRCDIRS sk6812)
    list(APPEND COMPONENT_ADD_INCLUDEDIRS sk6812)
endif()

if(CONFIG_SOFTWARE_ATECC608_SUPPORT)
    list(APPEND COMPONENT_SRCDIRS atecc608)
    list(APPEND COMPONENT_ADD_INCLUDEDIRS atecc608)
    list(APPEND COMPONENT_REQUIRES "esp-cryptoauthlib")
endif()

if(CONFIG_SOFTWARE_BUTTON_SUPPORT)
    list(APPEND COMPONENT_SRCDIRS button)
    list(APPEND COMPONENT_ADD_INCLUDEDIRS button)
endif()

if(CONFIG_SOFTWARE_MPU6886_SUPPORT)
    list(APPEND COMPONENT_SRCDIRS mpu6886)
    list(APPEND COMPONENT_ADD_INCLUDEDIRS mpu6886)
endif()

if(CONFIG_SOFTWARE_SPEAKER_SUPPORT)
    list(APPEND COMPONENT_SRCDIRS speaker)
    list(APPEND COMPONENT_ADD_INCLUDEDIRS speaker)
endif()

if(CONFIG_SOFTWARE_MIC_SUPPORT)
    list(APPEND COMPONENT_SRCDIRS microphone)
    list(APPEND COMPONENT_ADD_INCLUDEDIRS microphone)
endif()

if(CONFIG_SOFTWARE_RTC_SUPPORT)
    list(APPEND COMPONENT_SRCDIRS bm8563)
    list(APPEND COMPONENT_ADD_INCLUDEDIRS bm8563)
endif()

register_component()
